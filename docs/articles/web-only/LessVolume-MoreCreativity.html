<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Less Volume, More Creativity -- Getting Started with the mosaic Package • mosaic</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css">
<script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><meta property="og:title" content="Less Volume, More Creativity -- Getting Started with the mosaic Package">
<meta property="og:description" content="mosaic">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">mosaic</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.9.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/Resampling.html">Simulation-based inference with mosaic</a>
    </li>
    <li>
      <a href="../../articles/mosaic-resources.html">Resources Related to the mosaic Package</a>
    </li>
    <li>
      <a href="../../articles/web-only/GraphicsWithMosaic.html">Graphics with the mosaic and lattice packages</a>
    </li>
    <li>
      <a href="../../articles/web-only/LessVolume-MoreCreativity.html">Less Volume, More Creativity -- Getting Started with the mosaic Package</a>
    </li>
    <li>
      <a href="../../articles/web-only/ggformula-lattice.html">ggformula/lattice Comparison</a>
    </li>
  </ul>
</li>
<li>
  <a href="../../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ProjectMOSAIC/mosaic/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Less Volume, More Creativity – Getting Started
with the mosaic Package</h1>
                        <h4 data-toc-skip class="author">Randall Pruim
(updated by Nicholas Horton)</h4>
            
            <h4 data-toc-skip class="date">2023-11-10</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ProjectMOSAIC/mosaic/blob/HEAD/vignettes/web-only/LessVolume-MoreCreativity.Rmd" class="external-link"><code>vignettes/web-only/LessVolume-MoreCreativity.Rmd</code></a></small>
      <div class="hidden name"><code>LessVolume-MoreCreativity.Rmd</code></div>

    </div>

    
    
<style type="text/css">
span.boxed {
  border:5px solid gray;
  border-radius:10px;
  padding: 5px;
}
span.invboxed {
  border:5px solid gray;
  padding: 5px;
  border-radius:10px;
  color: white;
}
table, td, th
{
border:0px;
}
</style>
<div class="section level3">
<h3 id="project-mosaic-and-the-mosaic-package">Project MOSAIC and the <code>mosaic</code> package<a class="anchor" aria-label="anchor" href="#project-mosaic-and-the-mosaic-package"></a>
</h3>
<p>NSF-funded project to develop a new way to introduce mathematics,
statistics, computation and modeling to students in colleges and
universities.</p>
<ul>
<li><p>more information at <a href="http://www.mosaic-web.org" class="external-link">mosaic-web.org</a></p></li>
<li>
<p>the <code>mosaic</code> package is available via</p>
<ul>
<li><a href="https://cran.r-project.org/package=mosaic" class="external-link">CRAN</a></li>
<li>
<a href="https://github.com/ProjectMOSAIC/mosaic" class="external-link">github</a>
<ul>
<li>updates more frequently than CRAN</li>
<li>use <code>devtools::install_github(ProjectMOSAIC/mosaic)</code> to
install directly from github</li>
<li>add the optional <code>ref = "beta"</code> to install from the beta
(developmental) branch</li>
<li>add <code>build_vignettes = TRUE</code> if your system is equipped
to build vignettes.</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="section level4">
<h4 id="a-note-about-this-document">A note about this document<a class="anchor" aria-label="anchor" href="#a-note-about-this-document"></a>
</h4>
<p>This document was originally created as an R presentation to be used
as slides accompanying various presentations. It has been converted into
a more traditional document for use as a vignette in the
<code>mosaic</code> package.</p>
<p>The examples below use the <code>mosaic</code> and
<code>mosaicData</code> packages. An earlier version of this document
used <code>lattice</code> graphics, but it has been updated to use
<code>ggformula</code></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ProjectMOSAIC/mosaic" class="external-link">mosaic</a></span><span class="op">)</span>  <span class="co"># loads mosaicData and ggformula as well</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="less-volume-more-creativity">Less Volume, More Creativity<a class="anchor" aria-label="anchor" href="#less-volume-more-creativity"></a>
</h3>
<p>Many of the guiding principles of the <code>mosaic</code> package
reflect the “Less Volume, More Creativity” mantra of Mike McCarthy who
had a large poster with those words placed in the “war room” (where
assistant coaches decide on the game plan for the upcoming opponent) as
a constant reminder not to add too much complexity to the game plan.</p>
<table class="table"><tr align="top">
<td width="20%" align="top">
<img src="images/MikeMcCarthy.jpg" align="top" width="200">
</td>
<td align="top">
A lot of times you end up putting in a lot more volume, because you are
teaching fundamentals and you are teaching concepts that you need to put
in, but you may not necessarily use because they are building blocks for
other concepts and variations that will come off of that … In the
offseason you have a chance to take a step back and tailor it more
specifically towards your team and towards your players.” <br><br> Mike
McCarthy, former Head Coach, Green Bay Packers
</td>
</tr></table>
<div class="section level4">
<h4 id="sibkis-see-it-big-keep-it-simple">SIBKIS: See It Big, Keep It Simple<a class="anchor" aria-label="anchor" href="#sibkis-see-it-big-keep-it-simple"></a>
</h4>
Here is another elegant phrasing of a similar principle.
<table class="table"><tr>
<td>
Perfection is achieved, not when there is nothing more to add, but when
there is nothing left to take away. <br><br> — Antoine de Saint-Exupery
(writer, poet, pioneering aviator)
</td>
<td width="20%">
<img src="images/SaintExupery.jpg">
</td>
</tr></table>
</div>
</div>
<div class="section level3">
<h3 id="less-volume-more-creativity-in-r">Less Volume, More Creativity in R<a class="anchor" aria-label="anchor" href="#less-volume-more-creativity-in-r"></a>
</h3>
<p>One key to successfully introducing R is finding a set of commands
that is</p>
<ul>
<li>
<strong>small</strong>: fewer is better</li>
<li>
<strong>coherent</strong>: commands should be as similar as
possible</li>
<li>
<strong>powerful</strong>: can do what needs doing</li>
</ul>
<p>It is not enough to use R, it must be used elegantly.</p>
<p>Two examples of this principle:</p>
<ul>
<li>the <strong>mosaic</strong> package</li>
<li>the <strong>dplyr</strong> package (Hadley Wickham)</li>
</ul>
<div class="section level4">
<h4 id="minimal-r">Minimal R<a class="anchor" aria-label="anchor" href="#minimal-r"></a>
</h4>
<p><strong>Goal:</strong> a minimal set of R commands for Intro
Stats</p>
<p><strong>Result:</strong> Minimal R Vignette
(<code>vignette("MinimalR")</code>)</p>
<p>Much of the work on the <code>mosaic</code> package has been
motivated by</p>
<ul>
<li>The Less Volume, More Creativity approach</li>
<li>The Minimal R goal</li>
</ul>
</div>
<div class="section level4">
<h4 id="a-few-little-details">A few little details<a class="anchor" aria-label="anchor" href="#a-few-little-details"></a>
</h4>
<p>If you (or your students) are just getting started with R, it is good
to keep the following in mind:</p>
<div class="section level5">
<h5 id="r-is-case-sensitive">R is case sensitive<a class="anchor" aria-label="anchor" href="#r-is-case-sensitive"></a>
</h5>
<ul>
<li>many students are <em>not</em> case sensitive</li>
</ul>
</div>
<div class="section level5">
<h5 id="arrows-and-tab">Arrows and Tab<a class="anchor" aria-label="anchor" href="#arrows-and-tab"></a>
</h5>
<ul>
<li>up/down arrows scroll through history</li>
<li>TAB completion can simplify typing</li>
</ul>
</div>
<div class="section level5">
<h5 id="if-all-else-fails-try-esc">If all else fails, try ESC<a class="anchor" aria-label="anchor" href="#if-all-else-fails-try-esc"></a>
</h5>
<ul>
<li>If you see a + prompt, it means R is waiting for more input</li>
<li>If this is unintentional, you probably have a typo</li>
<li>ESC will get you pack to the command prompt</li>
</ul>
</div>
</div>
</div>
<div class="section level3">
<h3 id="the-most-important-template">The Most Important Template<a class="anchor" aria-label="anchor" href="#the-most-important-template"></a>
</h3>
<p> </p>
<p>The following template is important because we can do so much with
it.</p>
<p> </p>
<center>
<h3>
<strong><span class="invboxed">goal</span> ( <span class="invboxed">yyy</span> ~ <span class="invboxed">xxx</span> , data =
<span class="invboxed">mydata</span> )</strong>
</h3>
</center>
<p> </p>
<p>It is useful to name the components of the template:</p>
<p> </p>
<center>
<h3>
<strong><span class="boxed">goal</span> ( <span class="boxed"> y </span>
~ <span class="boxed"> x </span> , data = <span class="boxed">mydata</span> )</strong>
</h3>
</center>
<p>  We’re hiding a bit of complexity in the template, and there will be
times that we will want to gussy things up a bit. We’ll indicate that by
adding <code>...</code> to the end of the template. Just don’t let
<code>...</code> become a distractor early on.</p>
<p> </p>
<center>
<h3>
<strong><span class="boxed">goal</span> ( <span class="boxed"> y </span>
~ <span class="boxed"> x </span> , data = <span class="boxed">mydata</span> , …)</strong>
</h3>
</center>
<p> </p>
<div class="section level4">
<h4 id="other-versions">Other versions<a class="anchor" aria-label="anchor" href="#other-versions"></a>
</h4>
<p>Here are some variations on the template.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># simpler version</span></span>
<span><span class="fu">goal</span><span class="op">(</span><span class="op">~</span> <span class="va">x</span>, data <span class="op">=</span> <span class="va">mydata</span><span class="op">)</span>          </span>
<span><span class="co"># fancier version</span></span>
<span><span class="fu">goal</span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x</span> <span class="op">|</span> <span class="va">z</span> , data <span class="op">=</span> <span class="va">mydata</span><span class="op">)</span>   </span>
<span><span class="co"># unified version</span></span>
<span><span class="fu">goal</span><span class="op">(</span><span class="va">formula</span>, data <span class="op">=</span> <span class="va">mydata</span><span class="op">)</span>     </span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="questions">2 Questions<a class="anchor" aria-label="anchor" href="#questions"></a>
</h3>
<p>Using the template generally requires answering two questions. (These
questions are useful in the context of nearly all computer tools, just
substitute “the computer” in for R in the questions.)</p>
 
<center>
<h3>
<strong><span class="boxed">goal</span> ( <span class="boxed"> y </span>
~ <span class="boxed"> x </span> , data = <span class="boxed">mydata</span> )</strong>
</h3>
</center>
<p> </p>
<div class="section level4">
<h4 id="what-do-you-want-r-to-do-goal">What do you want R to do? (goal)<a class="anchor" aria-label="anchor" href="#what-do-you-want-r-to-do-goal"></a>
</h4>
<ul>
<li>This determines the R function to use</li>
</ul>
</div>
<div class="section level4">
<h4 id="what-must-r-know-to-do-that">What must R know to do that?<a class="anchor" aria-label="anchor" href="#what-must-r-know-to-do-that"></a>
</h4>
<ul>
<li>This determines the inputs to the function</li>
<li>Must identify the variables and data frame</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="how-do-we-make-this-plot-questions">How do we make this plot? (Questions)<a class="anchor" aria-label="anchor" href="#how-do-we-make-this-plot-questions"></a>
</h3>
<p><img src="LessVolume-MoreCreativity_files/figure-html/unnamed-chunk-4-1.png" width="60%" height="35%" style="display: block; margin: auto;"></p>
<div class="section level4">
<h4 id="what-is-the-goal">What is the Goal?<a class="anchor" aria-label="anchor" href="#what-is-the-goal"></a>
</h4>
<ul>
<li>
</ul>
</div>
<div class="section level4">
<h4 id="what-does-r-need-to-know">What does R need to know?<a class="anchor" aria-label="anchor" href="#what-does-r-need-to-know"></a>
</h4>
<ul>
<li>
<li>
</ul>
</div>
<div class="section level4">
<h4 id="how-do-we-make-this-plot-answers">How do we make this plot? (Answers)<a class="anchor" aria-label="anchor" href="#how-do-we-make-this-plot-answers"></a>
</h4>
<div class="section level5">
<h5 id="what-is-the-goal-1">What is the Goal?<a class="anchor" aria-label="anchor" href="#what-is-the-goal-1"></a>
</h5>
<ul>
<li>a scatter plot (<code>gf_point()</code>)</li>
</ul>
</div>
<div class="section level5">
<h5 id="what-does-r-need-to-know-1">What does R need to know?<a class="anchor" aria-label="anchor" href="#what-does-r-need-to-know-1"></a>
</h5>
<ul>
<li>which variable goes where (<code>births ~ date</code>)</li>
<li>which data set (<code>data = Births78</code>)
<ul>
<li>use <code><a href="https://rdrr.io/pkg/mosaicData/man/Births.html" class="external-link">?Births78</a></code> for documentation</li>
</ul>
</li>
</ul>
</div>
<div class="section level5">
<h5 id="putting-it-all-together">Putting it all together<a class="anchor" aria-label="anchor" href="#putting-it-all-together"></a>
</h5>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gf_point</span><span class="op">(</span><span class="va">births</span> <span class="op">~</span> <span class="va">date</span>, data <span class="op">=</span> <span class="va">Births78</span><span class="op">)</span> </span></code></pre></div>
<p><img src="LessVolume-MoreCreativity_files/figure-html/unnamed-chunk-5-1.png" width="60%" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level4">
<h4 id="your-turn-how-do-you-make-this-plot">Your turn: How do you make this plot?<a class="anchor" aria-label="anchor" href="#your-turn-how-do-you-make-this-plot"></a>
</h4>
<p><img src="LessVolume-MoreCreativity_files/figure-html/unnamed-chunk-6-1.png" width="70%" style="display: block; margin: auto;"></p>
<p>Some things you will need to know:</p>
<ol style="list-style-type: decimal">
<li><p>Command: <code>gf_boxplot()</code></p></li>
<li><p>The data: <code>HELPrct</code></p></li>
</ol>
<ul>
<li>Variables: <code>age</code>, <code>substance</code>
</li>
<li>use <code><a href="https://rdrr.io/pkg/mosaicData/man/HELPrct.html" class="external-link">?HELPrct</a></code> for info about data</li>
</ul>
<div class="section level5">
<h5 id="answer">Answer<a class="anchor" aria-label="anchor" href="#answer"></a>
</h5>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gf_boxplot</span><span class="op">(</span><span class="va">age</span> <span class="op">~</span> <span class="va">substance</span>, data<span class="op">=</span><span class="va">HELPrct</span><span class="op">)</span></span></code></pre></div>
<p><img src="LessVolume-MoreCreativity_files/figure-html/unnamed-chunk-7-1.png" width="70%" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level4">
<h4 id="your-turn-how-about-this-one">Your turn: How about this one?<a class="anchor" aria-label="anchor" href="#your-turn-how-about-this-one"></a>
</h4>
<pre><code><span><span class="co">## Warning: This function has been deprecated.  Use gf_boxplot() instead.  See `?ggstance'.</span></span></code></pre>
<p><img src="LessVolume-MoreCreativity_files/figure-html/unnamed-chunk-8-1.png" width="70%" style="display: block; margin: auto;"></p>
<p>Some things you will need to know:</p>
<ol style="list-style-type: decimal">
<li><p>Command: <code>gf_boxploth()</code> for horizontal
boxplots</p></li>
<li>
<p>The data: <code>HELPrct</code></p>
<ul>
<li>Variables: <code>age</code>, <code>substance</code>
</li>
<li>use <code><a href="https://rdrr.io/pkg/mosaicData/man/HELPrct.html" class="external-link">?HELPrct</a></code> for info about data</li>
</ul>
</li>
</ol>
<div class="section level5">
<h5 id="answer-1">Answer<a class="anchor" aria-label="anchor" href="#answer-1"></a>
</h5>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gf_boxploth</span><span class="op">(</span><span class="va">substance</span> <span class="op">~</span> <span class="va">age</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: This function has been deprecated.  Use gf_boxplot() instead.  See `?ggstance'.</span></span></code></pre>
<p><img src="LessVolume-MoreCreativity_files/figure-html/unnamed-chunk-9-1.png" width="70%" style="display: block; margin: auto;"></p>
<p>Note that we have reversed which variable is mapped to the x-axis and
which to the y-axis by reversing their order in the formula and using
<code>gf_boxploth()</code> instead of <code>gf_boxplot()</code>.</p>
</div>
</div>
<div class="section level4">
<h4 id="graphical-summaries-one-variable">Graphical Summaries: One Variable<a class="anchor" aria-label="anchor" href="#graphical-summaries-one-variable"></a>
</h4>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gf_histogram</span><span class="op">(</span><span class="op">~</span> <span class="va">age</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span> </span></code></pre></div>
<p><img src="LessVolume-MoreCreativity_files/figure-html/unnamed-chunk-10-1.png" width="70%" style="display: block; margin: auto;"></p>
<p>Note: When there is <strong>one variable</strong> it is on the
<strong>right side</strong> of the formula.</p>
</div>
<div class="section level4">
<h4 id="graphical-summaries-overview">Graphical Summaries: Overview<a class="anchor" aria-label="anchor" href="#graphical-summaries-overview"></a>
</h4>
<div class="section level5">
<h5 id="one-variable">One Variable<a class="anchor" aria-label="anchor" href="#one-variable"></a>
</h5>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>  <span class="fu">gf_histogram</span><span class="op">(</span> <span class="op">~</span> <span class="va">age</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span> </span>
<span>    <span class="fu">gf_density</span><span class="op">(</span> <span class="op">~</span> <span class="va">age</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span> </span>
<span>    <span class="fu">gf_boxplot</span><span class="op">(</span> <span class="op">~</span> <span class="va">age</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span> </span>
<span>         <span class="fu">gf_qq</span><span class="op">(</span> <span class="op">~</span> <span class="va">age</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span> </span>
<span>   <span class="fu">gf_freqpoly</span><span class="op">(</span> <span class="op">~</span> <span class="va">age</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span> </span></code></pre></div>
</div>
<div class="section level5">
<h5 id="two-variables">Two Variables<a class="anchor" aria-label="anchor" href="#two-variables"></a>
</h5>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gf_point</span><span class="op">(</span><span class="va">i1</span> <span class="op">~</span> <span class="va">age</span>,          data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span> </span>
<span><span class="fu">gf_boxplot</span><span class="op">(</span><span class="va">age</span> <span class="op">~</span> <span class="va">substance</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span> </span></code></pre></div>
<p><strong>Note:</strong> <code>i1</code> is the average number of
drinks (standard units) consumed per day in the past 30 days (measured
at baseline)</p>
</div>
</div>
<div class="section level4">
<h4 id="the-graphics-template">The Graphics Template<a class="anchor" aria-label="anchor" href="#the-graphics-template"></a>
</h4>
<div class="section level5">
<h5 id="one-variable-1">One variable<a class="anchor" aria-label="anchor" href="#one-variable-1"></a>
</h5>
<center>
<h4>
<dl>
<dt><strong><span class="boxed">plotname</span> (</strong></dt>
<dd>
<span class="boxed"> x </span> , data = <span class="boxed">mydata</span> , …)
</dd>
</dl>
</h4>
</center>
<ul>
<li>
<code>gf_histogram()</code>, <code>gf_qq()</code>,
<code>gf_density()</code>, <code>gf_freqpoly()</code>
</li>
</ul>
<p> </p>
</div>
<div class="section level5">
<h5 id="two-variables-1">Two Variables<a class="anchor" aria-label="anchor" href="#two-variables-1"></a>
</h5>
<center>
<h4>
<strong><span class="boxed">plotname</span> ( <span class="boxed"> y </span> ~ <span class="boxed"> x </span> , data = <span class="boxed">mydata</span> , …)</strong>
</h4>
</center>
<ul>
<li>
<code>gf_point()</code>, <code>gf_line()</code>,
<code>gf_boxplot()</code>
</li>
</ul>
</div>
</div>
<div class="section level4">
<h4 id="your-turn">Your turn<a class="anchor" aria-label="anchor" href="#your-turn"></a>
</h4>
<p>Create a plot of your own choosing with one of these data sets</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">KidsFeet</span><span class="op">)</span>    <span class="co"># 4th graders' feet</span></span>
<span><span class="op">?</span><span class="va">KidsFeet</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">Utilities</span><span class="op">)</span>   <span class="co"># utility bill data</span></span>
<span><span class="op">?</span><span class="va">Utilities</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va">NHANES</span><span class="op">)</span>    <span class="co"># load package</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">NHANES</span><span class="op">)</span>      <span class="co"># body shape, etc. </span></span>
<span><span class="op">?</span><span class="va">NHANES</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="groups-and-panels">groups and panels<a class="anchor" aria-label="anchor" href="#groups-and-panels"></a>
</h4>
<ul>
<li><p>Add <code>color = ~</code><span class="invboxed">group</span> or
<code>fill = ~</code><span class="invboxed">group</span> to overlay with
different colors.</p></li>
<li><p>Use <code>y ~ x | z</code> to create multipanel plots.</p></li>
</ul>
<p>Here is an example.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gf_density</span><span class="op">(</span> <span class="op">~</span> <span class="va">age</span> <span class="op">|</span> <span class="va">sex</span>, data <span class="op">=</span> <span class="va">HELPrct</span>, fill <span class="op">=</span> <span class="op">~</span> <span class="va">substance</span><span class="op">)</span></span></code></pre></div>
<p><img src="LessVolume-MoreCreativity_files/figure-html/unnamed-chunk-16-1.png" width="70%" style="display: block; margin: auto;"></p>
<p>Beginners can create plots with 3 or 4 variables easily and quickly
using this template.</p>
</div>
</div>
<div class="section level2">
<h2 id="bells-whistles">Bells &amp; Whistles<a class="anchor" aria-label="anchor" href="#bells-whistles"></a>
</h2>
<p>The <code>ggformula</code> graphics system includes lots of bells and
whistles including</p>
<ul>
<li>titles</li>
<li>axis labels</li>
<li>colors</li>
<li>sizes</li>
<li>transparency</li>
<li>etc, etc.</li>
</ul>
<p>I used to introduce these too early. My current approach:</p>
<ul>
<li>Let the students ask or</li>
<li>Let the data analysis drive</li>
</ul>
<div class="section level5">
<h5 id="an-example-with-some-bells-and-whistles">An example with some bells and whistles<a class="anchor" aria-label="anchor" href="#an-example-with-some-bells-and-whistles"></a>
</h5>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org" class="external-link">lubridate</a></span><span class="op">)</span></span>
<span><span class="va">Births78</span> <span class="op">&lt;-</span> <span class="va">Births78</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>weekday <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/day.html" class="external-link">wday</a></span><span class="op">(</span><span class="va">date</span>, label <span class="op">=</span> <span class="cn">TRUE</span>, abbr <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">gf_line</span><span class="op">(</span><span class="va">births</span> <span class="op">~</span> <span class="va">date</span>, color <span class="op">=</span> <span class="op">~</span> <span class="va">weekday</span>, data <span class="op">=</span> <span class="va">Births78</span><span class="op">)</span></span></code></pre></div>
<p><img src="LessVolume-MoreCreativity_files/figure-html/unnamed-chunk-17-1.png" width="70%" style="display: block; margin: auto;"></p>
<p><strong>Notes</strong></p>
<ul>
<li>
<code><a href="https://lubridate.tidyverse.org/reference/day.html" class="external-link">wday()</a></code> is in the <code>lubridate</code> package</li>
<li>This version of the plot reveals a clear weekend (and holiday)
pattern. Typically, I like to have students conjecture about the “double
wave” pattern and see if we can build plots to test their
conjectures.</li>
</ul>
</div>
<div class="section level3">
<h3 id="numerical-summaries">Numerical Summaries<a class="anchor" aria-label="anchor" href="#numerical-summaries"></a>
</h3>
<p>The <code>mosaic</code> package provides functions that make it
simple to create numerical summaries using the same template used for
graphing (and later for describing linear models).</p>
<div class="section level4">
<h4 id="numerical-summaries-one-variable">Numerical Summaries: One Variable<a class="anchor" aria-label="anchor" href="#numerical-summaries-one-variable"></a>
</h4>
<p>Big idea:</p>
<ul>
<li>Replace plot name with summary name</li>
<li>Nothing else changes</li>
</ul>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gf_histogram</span><span class="op">(</span> <span class="op">~</span> <span class="va">age</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span>  <span class="co"># binwidth = 5 (or 10) might be good here</span></span>
<span>        <span class="fu"><a href="../../reference/aggregating.html">mean</a></span><span class="op">(</span> <span class="op">~</span> <span class="va">age</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 35.65342</span></span></code></pre>
<p><img src="LessVolume-MoreCreativity_files/figure-html/unnamed-chunk-18-1.png" width="70%" style="display: block; margin: auto;"></p>
<div class="section level5">
<h5 id="other-summaries">Other summaries<a class="anchor" aria-label="anchor" href="#other-summaries"></a>
</h5>
<p>The mosaic package includes formula aware versions of
<code><a href="../../reference/aggregating.html">mean()</a></code>, <code><a href="../../reference/aggregating.html">sd()</a></code>, <code><a href="../../reference/aggregating.html">var()</a></code>,
<code><a href="../../reference/aggregating.html">min()</a></code>, <code><a href="../../reference/aggregating.html">max()</a></code>, <code><a href="../../reference/aggregating.html">sum()</a></code>,
<code><a href="../../reference/aggregating.html">IQR()</a></code>, …</p>
<p>Also provides <code><a href="../../reference/aggregating.html">favstats()</a></code> to compute our favorites.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/aggregating.html">favstats</a></span><span class="op">(</span> <span class="op">~</span> <span class="va">age</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  min Q1 median Q3 max     mean       sd   n missing</span></span>
<span><span class="co">##   19 30     35 40  60 35.65342 7.710266 453       0</span></span></code></pre>
<p><code><a href="../../reference/aggregating.html">favstats()</a></code> quickly becomes a go-to function in our
courses.</p>
<p><code>df_stats()</code> is similar, but</p>
<ul>
<li>stores the results in a data frame</li>
<li>can be used to make custom summary tables</li>
</ul>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">df_stats</span><span class="op">(</span> <span class="op">~</span> <span class="va">age</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   response min Q1 median Q3 max     mean       sd   n missing</span></span>
<span><span class="co">## 1      age  19 30     35 40  60 35.65342 7.710266 453       0</span></span></code></pre>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">df_stats</span><span class="op">(</span> <span class="op">~</span> <span class="va">age</span>, data <span class="op">=</span> <span class="va">HELPrct</span>, <span class="va">mean</span>, <span class="va">sd</span>, <span class="va">median</span>, <span class="va">iqr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   response     mean       sd median iqr</span></span>
<span><span class="co">## 1      age 35.65342 7.710266     35  10</span></span></code></pre>
</div>
</div>
<div class="section level4">
<h4 id="tallying">Tallying<a class="anchor" aria-label="anchor" href="#tallying"></a>
</h4>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/mosaicCore/man/tally.html" class="external-link">tally</a></span><span class="op">(</span><span class="op">~</span> <span class="va">sex</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## sex</span></span>
<span><span class="co">## female   male </span></span>
<span><span class="co">##    107    346</span></span></code></pre>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/mosaicCore/man/tally.html" class="external-link">tally</a></span><span class="op">(</span><span class="op">~</span> <span class="va">substance</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## substance</span></span>
<span><span class="co">## alcohol cocaine  heroin </span></span>
<span><span class="co">##     177     152     124</span></span></code></pre>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">df_stats</span><span class="op">(</span><span class="op">~</span> <span class="va">substance</span>, data <span class="op">=</span> <span class="va">HELPrct</span>, <span class="va">counts</span>, <span class="va">props</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    response n_alcohol n_cocaine n_heroin prop_alcohol prop_cocaine prop_heroin</span></span>
<span><span class="co">## 1 substance       177       152      124    0.3907285    0.3355408   0.2737307</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="numerical-summaries-two-variables">Numerical Summaries: Two Variables<a class="anchor" aria-label="anchor" href="#numerical-summaries-two-variables"></a>
</h4>
<p>There are three ways to think about this. All do the same thing.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/aggregating.html">sd</a></span><span class="op">(</span><span class="va">age</span> <span class="op">~</span> <span class="va">substance</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span></span>
<span><span class="fu"><a href="../../reference/aggregating.html">sd</a></span><span class="op">(</span><span class="op">~</span> <span class="va">age</span> <span class="op">|</span> <span class="va">substance</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span></span>
<span><span class="fu"><a href="../../reference/aggregating.html">sd</a></span><span class="op">(</span><span class="op">~</span> <span class="va">age</span>, groups <span class="op">=</span> <span class="va">substance</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span>  </span>
<span><span class="co"># note option color = ~ substance is used for graphics</span></span></code></pre></div>
<pre><code><span><span class="co">##  alcohol  cocaine   heroin </span></span>
<span><span class="co">## 7.652272 6.692881 7.986068</span></span></code></pre>
<p>This makes it possible to easily convert three different types of
plots into the (same) corresponding numerical summary.</p>
<p><code>df_stats()</code> can also be used with multiple variables and
provides a different output format.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">df_stats</span><span class="op">(</span><span class="va">age</span> <span class="op">~</span> <span class="va">substance</span>, data <span class="op">=</span> <span class="va">HELPrct</span>, <span class="va">sd</span><span class="op">)</span>  </span></code></pre></div>
<pre><code><span><span class="co">##   response substance       sd</span></span>
<span><span class="co">## 1      age   alcohol 7.652272</span></span>
<span><span class="co">## 2      age   cocaine 6.692881</span></span>
<span><span class="co">## 3      age    heroin 7.986068</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="numerical-summaries-tables">Numerical Summaries: Tables<a class="anchor" aria-label="anchor" href="#numerical-summaries-tables"></a>
</h4>
<p>2-way tables are just tallies of 2 variables.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/mosaicCore/man/tally.html" class="external-link">tally</a></span><span class="op">(</span><span class="va">sex</span> <span class="op">~</span> <span class="va">substance</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##         substance</span></span>
<span><span class="co">## sex      alcohol cocaine heroin</span></span>
<span><span class="co">##   female      36      41     30</span></span>
<span><span class="co">##   male       141     111     94</span></span></code></pre>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/mosaicCore/man/tally.html" class="external-link">tally</a></span><span class="op">(</span> <span class="op">~</span> <span class="va">sex</span> <span class="op">+</span> <span class="va">substance</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##         substance</span></span>
<span><span class="co">## sex      alcohol cocaine heroin</span></span>
<span><span class="co">##   female      36      41     30</span></span>
<span><span class="co">##   male       141     111     94</span></span></code></pre>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">df_stats</span><span class="op">(</span><span class="va">sex</span> <span class="op">~</span> <span class="va">substance</span>, data <span class="op">=</span> <span class="va">HELPrct</span>, <span class="va">counts</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   response substance n_female n_male</span></span>
<span><span class="co">## 1      sex   alcohol       36    141</span></span>
<span><span class="co">## 2      sex   cocaine       41    111</span></span>
<span><span class="co">## 3      sex    heroin       30     94</span></span></code></pre>
<p>Other output formats are available</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/mosaicCore/man/tally.html" class="external-link">tally</a></span><span class="op">(</span><span class="va">sex</span> <span class="op">~</span> <span class="va">substance</span>,   data <span class="op">=</span> <span class="va">HELPrct</span>, format <span class="op">=</span> <span class="st">"proportion"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##         substance</span></span>
<span><span class="co">## sex        alcohol   cocaine    heroin</span></span>
<span><span class="co">##   female 0.2033898 0.2697368 0.2419355</span></span>
<span><span class="co">##   male   0.7966102 0.7302632 0.7580645</span></span></code></pre>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/mosaicCore/man/tally.html" class="external-link">tally</a></span><span class="op">(</span><span class="va">substance</span> <span class="op">~</span> <span class="va">sex</span>,   data <span class="op">=</span> <span class="va">HELPrct</span>, format <span class="op">=</span> <span class="st">"proportion"</span>, margins <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##          sex</span></span>
<span><span class="co">## substance    female      male</span></span>
<span><span class="co">##   alcohol 0.3364486 0.4075145</span></span>
<span><span class="co">##   cocaine 0.3831776 0.3208092</span></span>
<span><span class="co">##   heroin  0.2803738 0.2716763</span></span>
<span><span class="co">##   Total   1.0000000 1.0000000</span></span></code></pre>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/mosaicCore/man/tally.html" class="external-link">tally</a></span><span class="op">(</span><span class="op">~</span> <span class="va">sex</span> <span class="op">+</span> <span class="va">substance</span>, data <span class="op">=</span> <span class="va">HELPrct</span>, format <span class="op">=</span> <span class="st">"proportion"</span>, margins <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##         substance</span></span>
<span><span class="co">## sex         alcohol    cocaine     heroin      Total</span></span>
<span><span class="co">##   female 0.07947020 0.09050773 0.06622517 0.23620309</span></span>
<span><span class="co">##   male   0.31125828 0.24503311 0.20750552 0.76379691</span></span>
<span><span class="co">##   Total  0.39072848 0.33554084 0.27373068 1.00000000</span></span></code></pre>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/mosaicCore/man/tally.html" class="external-link">tally</a></span><span class="op">(</span><span class="va">sex</span> <span class="op">~</span> <span class="va">substance</span>,   data <span class="op">=</span> <span class="va">HELPrct</span>, format <span class="op">=</span> <span class="st">"percent"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##         substance</span></span>
<span><span class="co">## sex       alcohol  cocaine   heroin</span></span>
<span><span class="co">##   female 20.33898 26.97368 24.19355</span></span>
<span><span class="co">##   male   79.66102 73.02632 75.80645</span></span></code></pre>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">df_stats</span><span class="op">(</span><span class="va">sex</span> <span class="op">~</span> <span class="va">substance</span>,   data <span class="op">=</span> <span class="va">HELPrct</span>, <span class="va">props</span>, <span class="va">percs</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   response substance prop_female prop_male perc_female perc_male</span></span>
<span><span class="co">## 1      sex   alcohol   0.2033898 0.7966102    20.33898  79.66102</span></span>
<span><span class="co">## 2      sex   cocaine   0.2697368 0.7302632    26.97368  73.02632</span></span>
<span><span class="co">## 3      sex    heroin   0.2419355 0.7580645    24.19355  75.80645</span></span></code></pre>
<div class="section level5">
<h5 id="more-examples">More examples<a class="anchor" aria-label="anchor" href="#more-examples"></a>
</h5>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/aggregating.html">mean</a></span><span class="op">(</span><span class="va">age</span> <span class="op">~</span> <span class="va">substance</span> <span class="op">|</span> <span class="va">sex</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##      A.F      C.F      H.F      A.M      C.M      H.M        F        M </span></span>
<span><span class="co">## 39.16667 34.85366 34.66667 37.95035 34.36036 33.05319 36.25234 35.46821</span></span></code></pre>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/aggregating.html">mean</a></span><span class="op">(</span><span class="va">age</span> <span class="op">~</span> <span class="va">substance</span> <span class="op">|</span> <span class="va">sex</span>, data <span class="op">=</span> <span class="va">HELPrct</span>, .format <span class="op">=</span> <span class="st">"table"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   substance sex     mean</span></span>
<span><span class="co">## 1         A   F 39.16667</span></span>
<span><span class="co">## 2         A   M 37.95035</span></span>
<span><span class="co">## 3         C   F 34.85366</span></span>
<span><span class="co">## 4         C   M 34.36036</span></span>
<span><span class="co">## 5         H   F 34.66667</span></span>
<span><span class="co">## 6         H   M 33.05319</span></span></code></pre>
<ul>
<li>I’ve abbreviated some labels to make things fit better. You can do
this using <code>mutate()</code> (in the <code>dplyr</code> package) or
<code><a href="https://rdrr.io/r/base/transform.html" class="external-link">transform()</a></code>.</li>
<li>This also works for <code><a href="../../reference/aggregating.html">median()</a></code>, <code><a href="../../reference/aggregating.html">min()</a></code>,
<code><a href="../../reference/aggregating.html">max()</a></code>, <code><a href="../../reference/aggregating.html">sd()</a></code>, <code><a href="../../reference/aggregating.html">var()</a></code>,
<code><a href="../../reference/aggregating.html">favstats()</a></code>, etc.</li>
</ul>
</div>
</div>
<div class="section level4">
<h4 id="one-template-to-rule-a-lot">One Template to Rule a Lot<a class="anchor" aria-label="anchor" href="#one-template-to-rule-a-lot"></a>
</h4>
<p>This master template can be used to do a large portion of what needs
doing in an Intro Stats course.</p>
<ul>
<li>single and multiple variable graphical summaries</li>
<li>single and multiple variable numerical summaries</li>
<li>linear models</li>
</ul>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>      <span class="fu"><a href="../../reference/aggregating.html">mean</a></span><span class="op">(</span><span class="va">age</span> <span class="op">~</span> <span class="va">sex</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span></span>
<span><span class="fu">gf_boxplot</span><span class="op">(</span><span class="va">age</span> <span class="op">~</span> <span class="va">sex</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span> </span>
<span>        <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">age</span> <span class="op">~</span> <span class="va">sex</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   female     male </span></span>
<span><span class="co">## 36.25234 35.46821</span></span></code></pre>
<pre><code><span><span class="co">## (Intercept)     sexmale </span></span>
<span><span class="co">##  36.2523364  -0.7841284</span></span></code></pre>
<p>It can be learned early and practiced often so that students become
secure in their ability to use these functions.</p>
</div>
</div>
<div class="section level3">
<h3 id="some-other-things">Some other things<a class="anchor" aria-label="anchor" href="#some-other-things"></a>
</h3>
<p>The <code>mosaic</code> package includes some other things, too</p>
<ul>
<li>data sets (they have now been moved to separate
<code>mosaicData</code> and <code>NHANES</code> packages)</li>
<li>xtras: <code><a href="../../reference/xchisq.test.html">xchisq.test()</a></code>, <code><a href="../../reference/xpnorm.html">xpnorm()</a></code>,
<code><a href="../../reference/xqqmath.html">xqqmath()</a></code>
<ul>
<li>these functions add a bit of extra output to the similarly named
functions that don’t have a leading <code>x</code>
</li>
</ul>
</li>
<li>
<code><a href="../../reference/mplot.html">mplot()</a></code>
<ul>
<li>
<code>mplot(HELPrct)</code> interactive plot creation</li>
<li>replacements for <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> in some situations</li>
</ul>
</li>
<li>simplified <code>gf_histogram()</code> controls (e.g.,
<code>binwidth</code>)</li>
<li>simplified ways to add onto lattice plots
(<code>gf_refine()</code>)</li>
</ul>
<div class="section level4">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h4>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/xpnorm.html">xpnorm</a></span><span class="op">(</span><span class="fl">700</span>, mean <span class="op">=</span> <span class="fl">500</span>, sd <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span></code></pre>
<pre><code><span><span class="co">## If X ~ N(500, 100), then</span></span></code></pre>
<pre><code><span><span class="co">##  P(X &lt;= 700) = P(Z &lt;= 2) = 0.9772</span></span></code></pre>
<pre><code><span><span class="co">##  P(X &gt;  700) = P(Z &gt;  2) = 0.02275</span></span></code></pre>
<pre><code><span><span class="co">## </span></span></code></pre>
<p><img src="LessVolume-MoreCreativity_files/figure-html/unnamed-chunk-30-1.png" width="70%" style="display: block; margin: auto;"></p>
<pre><code><span><span class="co">## [1] 0.9772499</span></span></code></pre>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/xpnorm.html">xpnorm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">300</span>, <span class="fl">700</span><span class="op">)</span>, mean <span class="op">=</span> <span class="fl">500</span>, sd <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span></code></pre>
<pre><code><span><span class="co">## If X ~ N(500, 100), then</span></span></code></pre>
<pre><code><span><span class="co">##  P(X &lt;= 300) = P(Z &lt;= -2) = 0.02275  P(X &lt;= 700) = P(Z &lt;=  2) = 0.97725</span></span></code></pre>
<pre><code><span><span class="co">##  P(X &gt;  300) = P(Z &gt;  -2) = 0.97725  P(X &gt;  700) = P(Z &gt;   2) = 0.02275</span></span></code></pre>
<pre><code><span><span class="co">## </span></span></code></pre>
<p><img src="LessVolume-MoreCreativity_files/figure-html/unnamed-chunk-31-1.png" width="70%" style="display: block; margin: auto;"></p>
<pre><code><span><span class="co">## [1] 0.02275013 0.97724987</span></span></code></pre>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/xchisq.test.html">xchisq.test</a></span><span class="op">(</span><span class="va">phs</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Pearson's Chi-squared test with Yates' continuity correction</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## data:  x</span></span>
<span><span class="co">## X-squared = 24.429, df = 1, p-value = 7.71e-07</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##    104.00   10933.00 </span></span>
<span><span class="co">## (  146.52) (10890.48)</span></span>
<span><span class="co">## [12.05]  [ 0.16] </span></span>
<span><span class="co">## &lt;-3.51&gt;  &lt; 0.41&gt; </span></span>
<span><span class="co">##    </span></span>
<span><span class="co">##    189.00   10845.00 </span></span>
<span><span class="co">## (  146.48) (10887.52)</span></span>
<span><span class="co">## [12.05]  [ 0.16] </span></span>
<span><span class="co">## &lt; 3.51&gt;  &lt;-0.41&gt; </span></span>
<span><span class="co">##    </span></span>
<span><span class="co">## key:</span></span>
<span><span class="co">##  observed</span></span>
<span><span class="co">##  (expected)</span></span>
<span><span class="co">##  [contribution to X-squared]</span></span>
<span><span class="co">##  &lt;Pearson residual&gt;</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="modeling">Modeling<a class="anchor" aria-label="anchor" href="#modeling"></a>
</h3>
<p>Modeling is really the starting point for the <code>mosaic</code>
design.</p>
<ul>
<li>linear models (<code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code> and <code><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm()</a></code>) defined the
template</li>
<li>
<code>lattice</code> graphics use the template (so we chose
<code>lattice</code>)</li>
<li>we added functionality so numerical summaries can be done with the
same template</li>
<li>additional things added to make modeling easier for beginners</li>
</ul>
<div class="section level4">
<h4 id="models-as-functions">Models as Functions<a class="anchor" aria-label="anchor" href="#models-as-functions"></a>
</h4>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">width</span> <span class="op">~</span> <span class="va">length</span> <span class="op">*</span> <span class="va">sex</span>, </span>
<span>            data <span class="op">=</span> <span class="va">KidsFeet</span><span class="op">)</span></span>
<span><span class="va">Width</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mosaicCore/man/makeFun.html" class="external-link">makeFun</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span>
<span><span class="fu">Width</span><span class="op">(</span>length <span class="op">=</span> <span class="fl">25</span>, sex <span class="op">=</span> <span class="st">"B"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##        1 </span></span>
<span><span class="co">## 9.167675</span></span></code></pre>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">Width</span><span class="op">(</span>length <span class="op">=</span> <span class="fl">25</span>, sex <span class="op">=</span> <span class="st">"G"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##        1 </span></span>
<span><span class="co">## 8.939312</span></span></code></pre>
<p>Once models have been converted into functions, we can easily add
them to our plots using <code><a href="../../reference/plotFun.html">plotFun()</a></code>.</p>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gf_point</span><span class="op">(</span><span class="va">width</span> <span class="op">~</span> <span class="va">length</span>, data <span class="op">=</span> <span class="va">KidsFeet</span>, </span>
<span>        color <span class="op">=</span> <span class="op">~</span> <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">gf_fun</span><span class="op">(</span><span class="fu">Width</span><span class="op">(</span><span class="va">length</span>, sex <span class="op">=</span> <span class="st">"B"</span><span class="op">)</span> <span class="op">~</span> <span class="va">length</span>, color <span class="op">=</span> <span class="op">~</span><span class="st">"B"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">gf_fun</span><span class="op">(</span><span class="fu">Width</span><span class="op">(</span><span class="va">length</span>, sex <span class="op">=</span> <span class="st">"G"</span><span class="op">)</span> <span class="op">~</span> <span class="va">length</span>, color <span class="op">=</span> <span class="op">~</span><span class="st">"G"</span><span class="op">)</span></span></code></pre></div>
<p><img src="LessVolume-MoreCreativity_files/figure-html/unnamed-chunk-35-1.png" width="70%" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level3">
<h3 id="resampling-you-can-do-it">Resampling – You can do() it!<a class="anchor" aria-label="anchor" href="#resampling-you-can-do-it"></a>
</h3>
<p>If you want to teach using randomization tests and bootstrap
intervals, the <code>mosaic</code> package provides some functions to
simplify creating the random distirubtions involved.</p>
<div class="section level4">
<h4 id="an-example-the-lady-tasting-tea">An example: The Lady Tasting Tea<a class="anchor" aria-label="anchor" href="#an-example-the-lady-tasting-tea"></a>
</h4>
<ul>
<li><p>Often used on first day of class</p></li>
<li>
<p>Story</p>
<ul>
<li><p>woman claims she can tell whether milk has been poured into tea
or vice versa.</p></li>
<li><p>Question: How do we test this claim?</p></li>
</ul>
</li>
</ul>
<p>We use <code><a href="../../reference/rflip.html">rflip()</a></code> to simulate flipping coins</p>
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/rflip.html">rflip</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Flipping 1 coin [ Prob(Heads) = 0.5 ] ...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## H</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Number of Heads: 1 [Proportion Heads: 1]</span></span></code></pre>
<p><strong>Note:</strong> We do this with students who do not (yet) know
what a binomial distribution is, so we want to avoid using
<code><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom()</a></code> at this point.</p>
<p>Rather than flip each coin separately, we can flip multiple coins at
once.</p>
<div class="sourceCode" id="cb80"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/rflip.html">rflip</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Flipping 10 coins [ Prob(Heads) = 0.5 ] ...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## H H H T T T H H H T</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Number of Heads: 6 [Proportion Heads: 0.6]</span></span></code></pre>
<ul>
<li>easier to consider <code>heads</code> = correct; <code>tails</code>
= incorrect than to compare with a given pattern
<ul>
<li>this switch bothers me more than it bothers my students</li>
</ul>
</li>
</ul>
</div>
<div class="section level4">
<h4 id="now-lets-do-that-a-lot-of-times">Now let’s do that a lot of times<a class="anchor" aria-label="anchor" href="#now-lets-do-that-a-lot-of-times"></a>
</h4>
<p><code>rflip(10)</code> simulates 1 lady tasting 10 cups 1 time.</p>
<p>We can do that many times to see how guessing ladies do:</p>
<div class="sourceCode" id="cb82"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/do.html">do</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="../../reference/rflip.html">rflip</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    n heads tails prop</span></span>
<span><span class="co">## 1 10     6     4  0.6</span></span>
<span><span class="co">## 2 10     5     5  0.5</span></span></code></pre>
<ul>
<li>
<code><a href="../../reference/do.html">do()</a></code> is clever about what it remembers (in many common
situations)</li>
<li>2 isn’t many – we’ll do many next – but it is a good idea to take a
look at a small example before generating a lot of random data.</li>
</ul>
<p>Now let’s simulate 5000 guessing ladies</p>
<div class="sourceCode" id="cb84"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Ladies</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/do.html">do</a></span><span class="op">(</span><span class="fl">5000</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="../../reference/rflip.html">rflip</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">Ladies</span>, <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    n heads tails prop</span></span>
<span><span class="co">## 1 10     4     6  0.4</span></span>
<span><span class="co">## 2 10     7     3  0.7</span></span></code></pre>
<div class="sourceCode" id="cb86"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gf_histogram</span><span class="op">(</span><span class="op">~</span> <span class="va">heads</span>, data <span class="op">=</span> <span class="va">Ladies</span>, binwidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p><img src="LessVolume-MoreCreativity_files/figure-html/ladies5000-1.png" width="70%" style="display: block; margin: auto;"></p>
<p><strong>Q.</strong> How often does guessing score 9 or 10?</p>
<p>Here are 3 ways to find out</p>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/mosaicCore/man/tally.html" class="external-link">tally</a></span><span class="op">(</span> <span class="op">~</span> <span class="op">(</span><span class="va">heads</span> <span class="op">&gt;=</span> <span class="fl">9</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">Ladies</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## (heads &gt;= 9)</span></span>
<span><span class="co">##  TRUE FALSE </span></span>
<span><span class="co">##    52  4948</span></span></code></pre>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/mosaicCore/man/tally.html" class="external-link">tally</a></span><span class="op">(</span> <span class="op">~</span> <span class="op">(</span><span class="va">heads</span> <span class="op">&gt;=</span> <span class="fl">9</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">Ladies</span>, format <span class="op">=</span> <span class="st">"prop"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## (heads &gt;= 9)</span></span>
<span><span class="co">##   TRUE  FALSE </span></span>
<span><span class="co">## 0.0104 0.9896</span></span></code></pre>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span> <span class="fu"><a href="https://rdrr.io/pkg/mosaicCore/man/prop.html" class="external-link">prop</a></span><span class="op">(</span> <span class="op">~</span> <span class="op">(</span><span class="va">heads</span> <span class="op">&gt;=</span> <span class="fl">9</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">Ladies</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## prop_TRUE </span></span>
<span><span class="co">##    0.0104</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="a-general-approach-to-randomization">A general approach to randomization<a class="anchor" aria-label="anchor" href="#a-general-approach-to-randomization"></a>
</h4>
<p>The Lady Tasting Tea illustrates a 3-step process that can be reused
in many situations:</p>
<ol style="list-style-type: decimal">
<li>Do it for your data</li>
<li>Do it for “random” data</li>
<li>Do it lots of times for “random” data</li>
</ol>
<ul>
<li>definition of “random” is important, but can often be handled by the
<code>mosaic</code> functions <code><a href="../../reference/resample.html">shuffle()</a></code> or
<code><a href="../../reference/resample.html">resample()</a></code>
</li>
</ul>
</div>
<div class="section level4">
<h4 id="example-do-mean-ages-differ-by-sex">Example: Do mean ages differ by sex?<a class="anchor" aria-label="anchor" href="#example-do-mean-ages-differ-by-sex"></a>
</h4>
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/diffmean.html">diffmean</a></span><span class="op">(</span><span class="va">age</span> <span class="op">~</span> <span class="va">sex</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   diffmean </span></span>
<span><span class="co">## -0.7841284</span></span></code></pre>
<div class="sourceCode" id="cb95"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/do.html">do</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="op">*</span> </span>
<span>  <span class="fu"><a href="../../reference/diffmean.html">diffmean</a></span><span class="op">(</span><span class="va">age</span> <span class="op">~</span> <span class="fu"><a href="../../reference/resample.html">shuffle</a></span><span class="op">(</span><span class="va">sex</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##     diffmean</span></span>
<span><span class="co">## 1 0.09686133</span></span></code></pre>
<div class="sourceCode" id="cb97"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Null</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/do.html">do</a></span><span class="op">(</span><span class="fl">5000</span><span class="op">)</span> <span class="op">*</span> </span>
<span>  <span class="fu"><a href="../../reference/diffmean.html">diffmean</a></span><span class="op">(</span><span class="va">age</span> <span class="op">~</span> <span class="fu"><a href="../../reference/resample.html">shuffle</a></span><span class="op">(</span><span class="va">sex</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">HELPrct</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb98"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/mosaicCore/man/prop.html" class="external-link">prop</a></span><span class="op">(</span> <span class="op">~</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">diffmean</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0.7841</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">Null</span><span class="op">)</span> </span></code></pre></div>
<pre><code><span><span class="co">## prop_TRUE </span></span>
<span><span class="co">##    0.3412</span></span></code></pre>
<div class="sourceCode" id="cb100"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gf_histogram</span><span class="op">(</span> <span class="op">~</span> <span class="va">diffmean</span>, data <span class="op">=</span> <span class="va">Null</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">gf_vline</span><span class="op">(</span>xintercept <span class="op">=</span> <span class="op">-</span><span class="fl">0.7841</span><span class="op">)</span> </span></code></pre></div>
<pre><code><span><span class="co">## Warning: geom_vline(): Ignoring `mapping` because `xintercept` was provided.</span></span></code></pre>
<p><img src="LessVolume-MoreCreativity_files/figure-html/unnamed-chunk-43-1.png" width="70%" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="example-bootstrap-ci-for-difference-in-means">Example: Bootstrap CI for difference in means<a class="anchor" aria-label="anchor" href="#example-bootstrap-ci-for-difference-in-means"></a>
</h4>
<div class="sourceCode" id="cb102"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Bootstrap</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/do.html">do</a></span><span class="op">(</span><span class="fl">5000</span><span class="op">)</span> <span class="op">*</span> </span>
<span>  <span class="fu"><a href="../../reference/diffmean.html">diffmean</a></span><span class="op">(</span><span class="va">age</span> <span class="op">~</span> <span class="va">sex</span>, data <span class="op">=</span> <span class="fu"><a href="../../reference/resample.html">resample</a></span><span class="op">(</span><span class="va">HELPrct</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">gf_histogram</span><span class="op">(</span> <span class="op">~</span> <span class="va">diffmean</span>, data <span class="op">=</span> <span class="va">Bootstrap</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">gf_vline</span><span class="op">(</span>xintercept <span class="op">=</span> <span class="op">-</span><span class="fl">0.7841</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: geom_vline(): Ignoring `mapping` because `xintercept` was provided.</span></span></code></pre>
<p><img src="LessVolume-MoreCreativity_files/figure-html/unnamed-chunk-44-1.png" width="70%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb104"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/pqrdata.html">cdata</a></span><span class="op">(</span> <span class="op">~</span> <span class="va">diffmean</span>, data <span class="op">=</span> <span class="va">Bootstrap</span>, p <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##          lower     upper central.p</span></span>
<span><span class="co">## 2.5% -2.438299 0.8177243      0.95</span></span></code></pre>
<div class="sourceCode" id="cb106"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/confint.html">confint</a></span><span class="op">(</span><span class="va">Bootstrap</span>, method <span class="op">=</span> <span class="st">"quantile"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##       name     lower     upper level     method   estimate</span></span>
<span><span class="co">## 1 diffmean -2.438299 0.8177243  0.95 percentile -0.7841284</span></span></code></pre>
<div class="sourceCode" id="cb108"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/confint.html">confint</a></span><span class="op">(</span><span class="va">Bootstrap</span><span class="op">)</span>  <span class="co"># default uses bootstrap st. err.</span></span></code></pre></div>
<pre><code><span><span class="co">##       name     lower     upper level     method   estimate</span></span>
<span><span class="co">## 1 diffmean -2.438299 0.8177243  0.95 percentile -0.7841284</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="randomization-and-linear-models">Randomization and linear models<a class="anchor" aria-label="anchor" href="#randomization-and-linear-models"></a>
</h4>
<div class="sourceCode" id="cb110"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/do.html">do</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">width</span> <span class="op">~</span> <span class="va">length</span>, data <span class="op">=</span> <span class="va">KidsFeet</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   Intercept    length     sigma r.squared        F numdf dendf .row .index</span></span>
<span><span class="co">## 1  2.862276 0.2479478 0.3963356 0.4110041 25.81878     1    37    1      1</span></span></code></pre>
<div class="sourceCode" id="cb112"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/do.html">do</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">width</span> <span class="op">~</span> <span class="fu"><a href="../../reference/resample.html">shuffle</a></span><span class="op">(</span><span class="va">length</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">KidsFeet</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   Intercept      length     sigma   r.squared         F numdf dendf .row .index</span></span>
<span><span class="co">## 1  6.347607  0.10697295 0.4962778 0.076502169 3.0650643     1    37    1      1</span></span>
<span><span class="co">## 2  9.877910 -0.03582090 0.5142048 0.008578250 0.3201415     1    37    1      2</span></span>
<span><span class="co">## 3  9.840434 -0.03430504 0.5143891 0.007867588 0.2934092     1    37    1      3</span></span></code></pre>
<div class="sourceCode" id="cb114"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/do.html">do</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="op">*</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">width</span> <span class="op">~</span> <span class="va">length</span> <span class="op">+</span> <span class="va">sex</span>, data <span class="op">=</span> <span class="va">KidsFeet</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   Intercept   length       sexG     sigma r.squared        F numdf dendf .row .index</span></span>
<span><span class="co">## 1  3.641168 0.221025 -0.2325175 0.3848905 0.4595428 15.30513     2    36    1      1</span></span></code></pre>
<div class="sourceCode" id="cb116"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/do.html">do</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span> <span class="op">*</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">width</span> <span class="op">~</span> <span class="va">length</span> <span class="op">+</span> <span class="fu"><a href="../../reference/resample.html">shuffle</a></span><span class="op">(</span><span class="va">sex</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">KidsFeet</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   Intercept    length        sexG     sigma r.squared        F numdf dendf .row .index</span></span>
<span><span class="co">## 1  3.068833 0.2378303  0.08945102 0.3993335 0.4182207 12.93957     2    36    1      1</span></span>
<span><span class="co">## 2  2.916037 0.2478853 -0.10717940 0.3979148 0.4223471 13.16058     2    36    1      2</span></span>
<span><span class="co">## 3  3.351286 0.2334825 -0.26968267 0.3770203 0.4814193 16.71013     2    36    1      3</span></span></code></pre>
<div class="sourceCode" id="cb118"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Null</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/do.html">do</a></span><span class="op">(</span><span class="fl">5000</span><span class="op">)</span> <span class="op">*</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">width</span> <span class="op">~</span> <span class="va">length</span> <span class="op">+</span> <span class="fu"><a href="../../reference/resample.html">shuffle</a></span><span class="op">(</span><span class="va">sex</span><span class="op">)</span>, </span>
<span>                       data <span class="op">=</span> <span class="va">KidsFeet</span><span class="op">)</span></span>
<span><span class="fu">gf_histogram</span><span class="op">(</span> <span class="op">~</span> <span class="va">sexG</span>, data <span class="op">=</span> <span class="va">Null</span>, boundary <span class="op">=</span> <span class="op">-</span><span class="fl">0.2325</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">gf_vline</span><span class="op">(</span>xintercept <span class="op">=</span> <span class="op">-</span><span class="fl">0.2325</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: geom_vline(): Ignoring `mapping` because `xintercept` was provided.</span></span></code></pre>
<p><img src="LessVolume-MoreCreativity_files/figure-html/unnamed-chunk-48-1.png" width="70%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb120"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gf_histogram</span><span class="op">(</span><span class="op">~</span> <span class="va">sexG</span>, data <span class="op">=</span> <span class="va">Null</span>, boundary <span class="op">=</span> <span class="op">-</span><span class="fl">0.2325</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">gf_vline</span><span class="op">(</span>xintercept <span class="op">=</span> <span class="op">-</span><span class="fl">0.2325</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: geom_vline(): Ignoring `mapping` because `xintercept` was provided.</span></span></code></pre>
<p><img src="LessVolume-MoreCreativity_files/figure-html/unnamed-chunk-49-1.png" width="70%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb122"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/mosaicCore/man/prop.html" class="external-link">prop</a></span><span class="op">(</span><span class="op">~</span> <span class="op">(</span><span class="va">sexG</span> <span class="op">&lt;=</span> <span class="op">-</span><span class="fl">0.2325</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">Null</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## prop_TRUE </span></span>
<span><span class="co">##    0.0344</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="want-to-learn-more">Want to learn more?<a class="anchor" aria-label="anchor" href="#want-to-learn-more"></a>
</h4>
<p>More mosaic resources can be found at <a href="https://www.mosaic-web.org/mosaic/articles/mosaic-resources.html" class="external-link uri">https://www.mosaic-web.org/mosaic/articles/mosaic-resources.html</a>.</p>
<p>The <em>RJournal</em> paper entitled “mosaic Package: Helping
Students to `Think with Data’ Using R (<a href="https://journal.r-project.org/archive/2017/RJ-2017-024/index.html" class="external-link uri">https://journal.r-project.org/archive/2017/RJ-2017-024/index.html</a>)
provides further discussion of the mosaic modeling language and approach
to teaching.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Randall Pruim, Daniel T. Kaplan, Nicholas J. Horton.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
